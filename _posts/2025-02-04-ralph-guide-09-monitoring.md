---
layout: post
title: "Ralph ê°€ì´ë“œ 09 - ëª¨ë‹ˆí„°ë§"
date: 2025-02-04
categories: [AI ì½”ë”© ì—ì´ì „íŠ¸, Ralph]
tags: [ralph, monitoring, tmux, dashboard, logs]
permalink: /ralph-guide-09-monitoring/
---

# ëª¨ë‹ˆí„°ë§

## tmux í†µí•©

### ëª¨ë‹ˆí„°ë§ ëª¨ë“œ ì‹œì‘

```bash
ralph --monitor
```

ì´ ëª…ë ¹ì€ tmux ì„¸ì…˜ì„ ìƒì„±í•˜ê³  ë‘ ê°œì˜ íŒ¨ë„ì„ í‘œì‹œí•©ë‹ˆë‹¤:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     RALPH MONITOR                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              â”‚                               â”‚
â”‚  Ralph Loop Output           â”‚  Monitoring Dashboard         â”‚
â”‚  (ì™¼ìª½ íŒ¨ë„)                   â”‚  (ì˜¤ë¥¸ìª½ íŒ¨ë„)                 â”‚
â”‚                              â”‚                               â”‚
â”‚  Claude Code ì‹¤í–‰ ë¡œê·¸         â”‚  ì„¸ì…˜ ìƒíƒœ                    â”‚
â”‚  ì‘ì—… ì§„í–‰ ìƒí™©                â”‚  ì§„í–‰ë¥                        â”‚
â”‚  í…ŒìŠ¤íŠ¸ ê²°ê³¼                   â”‚  API ì‚¬ìš©ëŸ‰                   â”‚
â”‚  ì—ëŸ¬ ë©”ì‹œì§€                   â”‚  ì„œí‚· ë¸Œë ˆì´ì»¤ ìƒíƒœ             â”‚
â”‚                              â”‚                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### íŒ¨ë„ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Left Pane (60%)                â”‚ Right Pane (40%)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—â”‚
â”‚ [10:30:15] Ralph loop started  â”‚  â•‘ SESSION DASHBOARD        â•‘â”‚
â”‚ [10:30:16] Reading PROMPT.md   â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£â”‚
â”‚ [10:30:16] Reading fix_plan.md â”‚  â•‘ Status:  RUNNING         â•‘â”‚
â”‚ [10:30:17] Found 5 unchecked   â”‚  â•‘ Session: proj-abc123     â•‘â”‚
â”‚            tasks               â”‚  â•‘ Loop:    15 / 200        â•‘â”‚
â”‚ [10:30:18] Starting task:      â”‚  â•‘ Time:    1h 23m          â•‘â”‚
â”‚            "Create API route"  â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£â”‚
â”‚                                â”‚  â•‘ PROGRESS                 â•‘â”‚
â”‚ > claude code running...       â”‚  â•‘ Tasks: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 8/12   â•‘â”‚
â”‚                                â”‚  â•‘ Tests: âœ“ Passing         â•‘â”‚
â”‚ [10:32:45] Task completed      â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£â”‚
â”‚ [10:32:46] Running tests...    â”‚  â•‘ API USAGE                â•‘â”‚
â”‚                                â”‚  â•‘ Hour:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘ 67/100  â•‘â”‚
â”‚ > npm test                     â”‚  â•‘ Total: 234 calls         â•‘â”‚
â”‚   PASS  src/api.test.js        â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£â”‚
â”‚   âœ“ GET /users (24ms)          â”‚  â•‘ CIRCUIT BREAKER          â•‘â”‚
â”‚   âœ“ POST /users (18ms)         â”‚  â•‘ State:  â— CLOSED         â•‘â”‚
â”‚                                â”‚  â•‘ Errors: 0 / 5            â•‘â”‚
â”‚ [10:33:02] All tests passed    â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£â”‚
â”‚ [10:33:03] Updating fix_plan   â”‚  â•‘ LAST ACTIVITY            â•‘â”‚
â”‚ [10:33:04] Starting next task  â”‚  â•‘ 10:33:04 - Starting      â•‘â”‚
â”‚                                â”‚  â•‘           next task      â•‘â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### tmux í‚¤ ë°”ì¸ë”©

| í‚¤ ì¡°í•© | ë™ì‘ |
|---------|------|
| `Ctrl+B, D` | ì„¸ì…˜ ë¶„ë¦¬ (Ralph ê³„ì† ì‹¤í–‰) |
| `Ctrl+B, [` | ìŠ¤í¬ë¡¤ ëª¨ë“œ (që¡œ ì¢…ë£Œ) |
| `Ctrl+B, 0` | ì™¼ìª½ íŒ¨ë„ë¡œ ì´ë™ |
| `Ctrl+B, 1` | ì˜¤ë¥¸ìª½ íŒ¨ë„ë¡œ ì´ë™ |
| `Ctrl+B, z` | í˜„ì¬ íŒ¨ë„ í™•ëŒ€/ì¶•ì†Œ |
| `Ctrl+B, %` | ìˆ˜ì§ ë¶„í•  |
| `Ctrl+B, "` | ìˆ˜í‰ ë¶„í•  |

### ì„¸ì…˜ ê´€ë¦¬

```bash
# ì‹¤í–‰ ì¤‘ì¸ tmux ì„¸ì…˜ í™•ì¸
tmux ls

# ì„¸ì…˜ì— ë‹¤ì‹œ ì—°ê²°
tmux attach -t my-project

# ì„¸ì…˜ ì¢…ë£Œ (Ralphë„ ì¢…ë£Œ)
tmux kill-session -t my-project
```

## ë¼ì´ë¸Œ ëŒ€ì‹œë³´ë“œ

### ëŒ€ì‹œë³´ë“œ ìš”ì†Œ

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                      RALPH DASHBOARD                           â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  SESSION INFO                                                  â•‘
â•‘  â”œâ”€ ID:        my-project-abc123                              â•‘
â•‘  â”œâ”€ Status:    â— RUNNING                                      â•‘
â•‘  â”œâ”€ Started:   2024-01-15 10:00:00                            â•‘
â•‘  â””â”€ Duration:  1h 45m 23s                                     â•‘
â•‘                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  PROGRESS                                                      â•‘
â•‘  â”œâ”€ Loop:      23 / 200                                       â•‘
â•‘  â”œâ”€ Tasks:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 8/12 (67%)                â•‘
â•‘  â””â”€ Current:   "Implement user authentication"                 â•‘
â•‘                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  API USAGE (resets in 15m)                                    â•‘
â•‘  â”œâ”€ This Hour: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘ 67/100 (67%)              â•‘
â•‘  â””â”€ Total:     234 calls                                       â•‘
â•‘                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  CIRCUIT BREAKER                                               â•‘
â•‘  â”œâ”€ State:     â— CLOSED (normal)                              â•‘
â•‘  â”œâ”€ Errors:    1/5                                            â•‘
â•‘  â””â”€ Last Err:  test timeout (32m ago)                         â•‘
â•‘                                                                â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                â•‘
â•‘  RECENT ACTIVITY                                               â•‘
â•‘  â”œâ”€ 10:45:30  âœ“ Task completed: "Add user model"              â•‘
â•‘  â”œâ”€ 10:45:31  â— Tests passed (12 tests)                       â•‘
â•‘  â”œâ”€ 10:45:32  â†’ Starting: "Implement user auth"               â•‘
â•‘  â””â”€ 10:45:33  ğŸ“ Reading specs/auth.md                        â•‘
â•‘                                                                â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### ìƒíƒœ í‘œì‹œê¸°

| ì•„ì´ì½˜ | ì˜ë¯¸ |
|--------|------|
| `â—` | í™œì„± ìƒíƒœ |
| `â—‹` | ë¹„í™œì„± ìƒíƒœ |
| `âœ“` | ì„±ê³µ/ì™„ë£Œ |
| `âœ—` | ì‹¤íŒ¨/ì—ëŸ¬ |
| `â†’` | ì§„í–‰ ì¤‘ |
| `â¸` | ì¼ì‹œ ì¤‘ì§€ |
| `â—` | í…ŒìŠ¤íŠ¸ ê´€ë ¨ |
| `ğŸ“` | íŒŒì¼ ì½ê¸°/ì“°ê¸° |

### ìƒ‰ìƒ ì½”ë“œ

| ìƒ‰ìƒ | ì˜ë¯¸ |
|------|------|
| ë…¹ìƒ‰ | ì •ìƒ/ì„±ê³µ |
| ë…¸ë‘ | ê²½ê³ /ì£¼ì˜ |
| ë¹¨ê°• | ì—ëŸ¬/ì‹¤íŒ¨ |
| íŒŒë‘ | ì •ë³´/ì§„í–‰ ì¤‘ |
| íšŒìƒ‰ | ë¹„í™œì„± |

## ë¡œê·¸ ì‹œìŠ¤í…œ

### ë¡œê·¸ íŒŒì¼ êµ¬ì¡°

```
.ralph/logs/
â”œâ”€â”€ session_abc123.log      # ì„¸ì…˜ë³„ ì „ì²´ ë¡œê·¸
â”œâ”€â”€ session_def456.log      # ì´ì „ ì„¸ì…˜ ë¡œê·¸
â”œâ”€â”€ session_latest.log      # ìµœì‹  ì„¸ì…˜ ì‹¬ë³¼ë¦­ ë§í¬
â”œâ”€â”€ error.log               # ì—ëŸ¬ ì „ìš© ë¡œê·¸
â””â”€â”€ api_calls.log           # API í˜¸ì¶œ ê¸°ë¡
```

### ë¡œê·¸ ë ˆë²¨

| ë ˆë²¨ | ì„¤ëª… | ì˜ˆì‹œ |
|------|------|------|
| `DEBUG` | ìƒì„¸ ë””ë²„ê¹… ì •ë³´ | ë³€ìˆ˜ ê°’, í•¨ìˆ˜ í˜¸ì¶œ |
| `INFO` | ì¼ë°˜ ì§„í–‰ ì •ë³´ | ì‘ì—… ì‹œì‘/ì™„ë£Œ |
| `WARN` | ê²½ê³  (ê³„ì† ì§„í–‰) | ì¬ì‹œë„, ëŠë¦° ì‘ë‹µ |
| `ERROR` | ì—ëŸ¬ (ë³µêµ¬ ì‹œë„) | í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨, API ì˜¤ë¥˜ |
| `FATAL` | ì¹˜ëª…ì  (ì¤‘ì§€) | ì¸ì¦ ì‹¤íŒ¨, ì„¤ì • ì˜¤ë¥˜ |

### ë¡œê·¸ í˜•ì‹

```
[2024-01-15T10:30:15.123Z] [INFO] [loop:15] Task started: "Create API route"
[2024-01-15T10:30:45.456Z] [DEBUG] [loop:15] File written: src/routes/users.js
[2024-01-15T10:31:02.789Z] [INFO] [loop:15] Tests passed: 12/12
[2024-01-15T10:31:03.012Z] [INFO] [loop:15] Task completed: "Create API route"
[2024-01-15T10:31:03.345Z] [WARN] [loop:16] API call slow: 5.2s (threshold: 3s)
```

### ë¡œê·¸ í™•ì¸ ëª…ë ¹

```bash
# ì‹¤ì‹œê°„ ë¡œê·¸ ìŠ¤íŠ¸ë¦¬ë°
tail -f .ralph/logs/session_latest.log

# ì—ëŸ¬ë§Œ í•„í„°ë§
grep "\[ERROR\]" .ralph/logs/session_latest.log

# íŠ¹ì • ì‹œê°„ëŒ€ ë¡œê·¸
grep "2024-01-15T10:3" .ralph/logs/session_latest.log

# íŠ¹ì • ì‘ì—… ê´€ë ¨ ë¡œê·¸
grep "Create API route" .ralph/logs/session_latest.log

# ìµœê·¼ 100ì¤„
tail -100 .ralph/logs/session_latest.log
```

### ë¡œê·¸ ë ˆë²¨ ì„¤ì •

```bash
# .ralphrcì—ì„œ ì„¤ì •
LOG_LEVEL="debug"

# í™˜ê²½ ë³€ìˆ˜ë¡œ ì„¤ì •
RALPH_LOG_LEVEL=debug ralph --monitor

# ëª…ë ¹ì¤„ ì˜µì…˜
ralph --verbose  # debug ë ˆë²¨ í™œì„±í™”
```

## CLI ìƒíƒœ í™•ì¸

### ralph --status

```bash
ralph --status
```

ì¶œë ¥:
```
Ralph Session Status
====================
Session ID:  my-project-abc123
Status:      â— RUNNING
Started:     2024-01-15 10:00:00 (1h 45m ago)

Progress
--------
Loop:        23 / 200
Tasks:       8 / 12 completed (67%)
Current:     "Implement user authentication"

API Usage
---------
This Hour:   67 / 100 calls (67%)
Resets In:   15 minutes
Total:       234 calls

Circuit Breaker
---------------
State:       CLOSED
Error Count: 1 / 5
Last Error:  test timeout (32m ago)

Files Modified (last hour)
--------------------------
  src/routes/users.js
  src/models/user.js
  tests/users.test.js
```

### JSON ì¶œë ¥

```bash
ralph --status --json
```

```json
{
  "session": {
    "id": "my-project-abc123",
    "status": "RUNNING",
    "started_at": "2024-01-15T10:00:00Z",
    "duration_seconds": 6323
  },
  "progress": {
    "loop": 23,
    "max_loops": 200,
    "tasks_completed": 8,
    "tasks_total": 12,
    "current_task": "Implement user authentication"
  },
  "api_usage": {
    "calls_this_hour": 67,
    "max_calls_per_hour": 100,
    "resets_in_seconds": 900,
    "calls_total": 234
  },
  "circuit_breaker": {
    "state": "CLOSED",
    "error_count": 1,
    "error_threshold": 5
  }
}
```

## ì™¸ë¶€ ëª¨ë‹ˆí„°ë§ í†µí•©

### Webhook ì•Œë¦¼

```bash
# .ralphrc
WEBHOOK_URL="https://hooks.slack.com/services/xxx/yyy/zzz"
NOTIFY_ON_COMPLETE=true
NOTIFY_ON_ERROR=true
```

### ì»¤ìŠ¤í…€ ìŠ¤í¬ë¦½íŠ¸

```bash
# .ralph/hooks/on_complete.sh
#!/bin/bash
curl -X POST $WEBHOOK_URL \
  -H 'Content-type: application/json' \
  -d "{\"text\": \"Ralph completed: $PROJECT_NAME\"}"

# .ralph/hooks/on_error.sh
#!/bin/bash
curl -X POST $WEBHOOK_URL \
  -H 'Content-type: application/json' \
  -d "{\"text\": \"Ralph error: $ERROR_MESSAGE\"}"
```

---

**ì´ì „ ì¥:** [ì„¸ì…˜ ê´€ë¦¬](/ralph-guide-08-session/) | **ë‹¤ìŒ ì¥:** [ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤](/ralph-guide-10-best-practices/)
